webpackJsonp([7],{"Yr/s":function(t,e){},xYqF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),r=s.n(a),i=s("exGp"),n=s.n(i),o=s("Au9i"),c={data:function(){return{pickerValue:"联系电话",person:"",form:{user:"",searchText:"",type:1},pickerTemp:{value:"",id:""},ok:!0,checked:!1,isPopup:!1,slots:[{values:[{id:1,label:"联系电话"},{id:2,label:"证件号码"}],defaultIndex:0,className:"slot1",textAlign:"center"}]}},methods:{submit:function(){var t=n()(r.a.mark(function t(e){var s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.checkInput(this.form.type)){t.next=2;break}return t.abrupt("return");case 2:return s={method:"XYQ00002",params:{userid:this.$store.state.umbrella.userId,username:this.form.user,searchText:this.form.searchText,type:this.form.type}},t.next=5,this.$http.post("/apicenter/rest/post",s);case 5:"0000"==(a=t.sent).resultCode?(this.person=this.form.user,this.ok=!1):Object(o.Toast)({message:a.resultMsg,duration:2e3});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),changeType:function(){this.isPopup=!0},onValuesChange:function(t,e){this.pickerTemp.value=e[0].label,this.pickerTemp.id=e[0].id},esure:function(){this.pickerValue=this.pickerTemp.value,this.form.type=this.pickerTemp.id,this.isPopup=!1},cancel:function(){this.isPopup=!1},checkInput:function(t){return this.form.user||this.form.searchText?1!=t||/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.form.searchText)?!(2==t&&!/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(this.form.searchText))||(Object(o.Toast)({message:"请输入正确的证件号码",duration:2e3}),!1):(Object(o.Toast)({message:"请输入正确联系电话",duration:2e3}),!1):(Object(o.Toast)({message:"请输入正确的信息",duration:2e3}),!1)},fallback:function(){this.$router.push("./home")}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"borrow"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.ok,expression:"ok"}],staticClass:"borrow-field"},[a("form",{staticClass:"form"},[a("div",{staticClass:"form-item border-b-1px"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user,expression:"form.user"}],attrs:{type:"text",placeholder:"请输入借用人"},domProps:{value:t.form.user},on:{input:function(e){e.target.composing||t.$set(t.form,"user",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-item border-b-1px"},[t._m(2),t._v(" "),a("div",{staticClass:"title",on:{click:t.changeType}},[a("span",{staticClass:"text"},[t._v(t._s(t.pickerValue)+"\n\t\t\t\t\t\t"),a("span",{staticClass:"picker-icon-up"}),t._v(" "),a("span",{staticClass:"picker-icon-down"})])]),t._v(" "),a("div",{staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.searchText,expression:"form.searchText"}],attrs:{type:"text",placeholder:"请输入联系电话"},domProps:{value:t.form.searchText},on:{input:function(e){e.target.composing||t.$set(t.form,"searchText",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"content-padded"},[a("button",{staticClass:"btn btn-primary btn-block  btn-large",on:{click:t.submit}},[t._v("确认还伞")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.ok,expression:"!ok"}],staticClass:"result"},[a("img",{staticClass:"result-img",attrs:{src:s("Rq4T"),alt:"",srcset:""}}),t._v(" "),a("div",{staticClass:"result-desc"},[t._v("您替"+t._s(t.person)+"成功还伞")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-large",on:{click:t.fallback}},[t._v("返回")])]),t._v(" "),a("mt-popup",{staticClass:"popup",attrs:{position:"bottom"},model:{value:t.isPopup,callback:function(e){t.isPopup=e},expression:"isPopup"}},[a("mt-picker",{attrs:{slots:t.slots,"value-key":"label",showToolbar:"true"},on:{change:t.onValuesChange}},[a("div",{staticClass:"picker-tool-bar"},[a("button",{staticClass:"btn btn-default btn-small fl",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-small fr",on:{click:t.esure}},[t._v("确定")])])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"inner-box"},[e("span",{staticClass:"required"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticClass:"text"},[this._v("借用人(单位)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"inner-box"},[e("span",{staticClass:"required"},[this._v("*")])])}]};var u=s("VU/8")(c,l,!1,function(t){s("Yr/s")},"data-v-6f81abc8",null);e.default=u.exports}});
//# sourceMappingURL=7.0cd276545f417b1d2da0.js.map